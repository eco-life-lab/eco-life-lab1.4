<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECO-LIFE LAB | Simulation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .eco-header { background: #0f172a; }
        .tab-active { color: #10b981; border-bottom: 3px solid #10b981; font-weight: bold; }
        .scenario-btn { transition: 0.2s; border: 1px solid #e2e8f0; background: white; cursor: pointer; }
        .scenario-active { border-color: #10b981; background-color: #f0fdf4; color: #166534; font-weight: bold; }
        input[type=range] { accent-color: #10b981; cursor: pointer; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 font-sans">

    <header class="eco-header text-white p-5 shadow-lg sticky top-0 z-50">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <h1 class="text-xl font-black uppercase tracking-tighter">Eco-Life Lab</h1>
            <nav class="flex space-x-6 mt-4 md:mt-0 text-[11px] font-bold uppercase tracking-widest">
                <button onclick="switchMode('forest')" id="nav-forest" class="tab-active">üå≤ R·ª´ng</button>
                <button onclick="switchMode('ocean')" id="nav-ocean" class="opacity-50 hover:opacity-100">üåä Bi·ªÉn</button>
                <button onclick="switchMode('urban')" id="nav-urban" class="opacity-50 hover:opacity-100">üèôÔ∏è ƒê√¥ th·ªã</button>
            </nav>
        </div>
    </header>

    <main class="container mx-auto py-8 px-4 grid grid-cols-1 lg:grid-cols-12 gap-8">
        <div class="lg:col-span-4 space-y-6">
            <div class="bg-white p-6 rounded-2xl shadow-md border border-slate-200">
                <h2 id="mode-title" class="text-lg font-bold mb-4">R·ª´ng nguy√™n sinh</h2>
                <div class="flex flex-col gap-2 mb-6 text-xs">
                    <button onclick="setScen('sus')" id="sc-sus" class="scenario-btn p-3 rounded-xl text-left scenario-active">üå± B·ªÅn v·ªØng</button>
                    <button onclick="setScen('col')" id="sc-col" class="scenario-btn p-3 rounded-xl text-left">üíÄ S·ª•p ƒë·ªï</button>
                </div>
                <div class="space-y-6">
                    <div>
                        <div class="flex justify-between text-xs mb-2 font-bold"><span id="l1">Khai th√°c</span><span id="v1">10%</span></div>
                        <input type="range" id="i1" min="0" max="100" value="10" class="w-full h-1.5 bg-slate-200 rounded-lg appearance-none">
                    </div>
                    <div>
                        <div class="flex justify-between text-xs mb-2 font-bold"><span id="l2">B·∫£o t·ªìn</span><span id="v2">90%</span></div>
                        <input type="range" id="i2" min="0" max="100" value="90" class="w-full h-1.5 bg-slate-200 rounded-lg appearance-none">

</div>
                </div>
            </div>
            <div id="ai-card" class="bg-emerald-900 text-white p-6 rounded-2xl shadow-lg border-b-4 border-emerald-400">
                <p class="text-[10px] font-black uppercase text-emerald-400 mb-2">AI Mentor Ph√¢n T√≠ch</p>
                <p id="ai-text" class="text-sm italic leading-relaxed">H·ªá sinh th√°i ƒëang ·ªü tr·∫°ng th√°i t·ªët nh·∫•t.</p>
            </div>
        </div>

        <div class="lg:col-span-8 space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-white p-6 rounded-2xl shadow-sm text-center border border-slate-100">
                    <p class="text-slate-400 text-[10px] font-bold uppercase mb-1">CO2 (ppm)</p>
                    <p id="r-co2" class="text-3xl font-black text-slate-800">400</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm text-center border border-slate-100">
                    <p class="text-slate-400 text-[10px] font-bold uppercase mb-1">ƒêa d·∫°ng sinh h·ªçc</p>
                    <p id="r-bio" class="text-3xl font-black text-emerald-600">95%</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm text-center border border-slate-100">
                    <p class="text-slate-400 text-[10px] font-bold uppercase mb-1">Nhi·ªát ƒë·ªô</p>
                    <p id="r-temp" class="text-3xl font-black text-orange-500">+1.0¬∞C</p>
                </div>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm h-[400px] border border-slate-100">
                <canvas id="ecoChart"></canvas>
            </div>
        </div>
    </main>

    <script>
        let mode = 'forest';
        const config = {
            forest: { t: "R·ª´ng nguy√™n sinh", l1: "Khai th√°c g·ªó", l2: "T√°i tr·ªìng r·ª´ng", c: "#10b981" },
            ocean: { t: "H·ªá sinh th√°i bi·ªÉn", l1: "ƒê√°nh b·∫Øt c√°", l2: "X·ª≠ l√Ω nh·ª±a", c: "#0ea5e9" },
            urban: { t: "ƒê√¥ th·ªã xanh", l1: "M·∫≠t ƒë·ªô b√™ t√¥ng", l2: "NƒÉng l∆∞·ª£ng xanh", c: "#8b5cf6" }
        };
        const ctx = document.getElementById('ecoChart').getContext('2d');
        let chart = new Chart(ctx, {
            type: 'line',
            data: { labels: ['2025','2030','2035','2040','2045'], datasets: [{ label: 'ƒê·ªô ·ªïn ƒë·ªãnh (%)', data: [90,92,95,94,96], borderColor: '#10b981', tension: 0.4 }] },
            options: { responsive: true, maintainAspectRatio: false, scales: { y: { min: 0, max: 100 } } }
        });

        function switchMode(m) {
            mode = m;
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('tab-active','opacity-100'));
            document.getElementById('nav-'+m).classList.add('tab-active');
            document.getElementById('mode-title').innerText = config[m].t;
            document.getElementById('l1').innerText = config[m].l1;
document.getElementById('l2').innerText = config[m].l2;
            chart.data.datasets[0].borderColor = config[m].c;
            setScen('sus');
        }

        function setScen(s) {
            document.querySelectorAll('.scenario-btn').forEach(b => b.classList.remove('scenario-active'));
            document.getElementById('sc-'+s).classList.add('scenario-active');
            if(s==='sus') { document.getElementById('i1').value=10; document.getElementById('i2').value=90; }
            else { document.getElementById('i1').value=95; document.getElementById('i2').value=5; }
            update();
        }

        function update() {
            const v1 = parseInt(document.getElementById('i1').value);
            const v2 = parseInt(document.getElementById('i2').value);
            document.getElementById('v1').innerText = v1 + "%";
            document.getElementById('v2').innerText = v2 + "%";
            let co2, bio, advice, color;
            if(mode==='forest') { co2 = 400 + (v1*1.5) - (v2*0.4); bio = 100 - (v1*0.9) + (v2*0.1); }
            else if(mode==='ocean') { co2 = 410 + (v1*0.5); bio = 95 - (v1*0.7) - ((100-v2)*0.4); }
            else { co2 = 440 + (v1*0.5) - (v2*1.8); bio = 50 - (v1*0.2) + (v2*0.7); }
            
            document.getElementById('r-co2').innerText = Math.round(co2);
            document.getElementById('r-bio').innerText = Math.max(0, Math.round(bio)) + "%";
            document.getElementById('r-temp').innerText = "+" + (1 + (co2-400)/100).toFixed(1) + "¬∞C";
            
            if(bio > 70) { advice = "B·ªÄN V·ªÆNG: H·ªá sinh th√°i r·∫•t t·ªët!"; color = "bg-emerald-900 border-emerald-400"; }
            else { advice = "S·ª§P ƒê·ªî: C·∫ßn h√†nh ƒë·ªông kh·∫©n c·∫•p!"; color = "bg-rose-900 border-rose-500"; }
            document.getElementById('ai-card').className = "p-6 rounded-2xl shadow-lg border-b-4 text-white " + color;
            document.getElementById('ai-text').innerText = advice;
            chart.data.datasets[0].data = [80, 75, bio + 5, bio - 2, bio];
            chart.update('none');
        }
        document.getElementById('i1').oninput = update;
        document.getElementById('i2').oninput = update;
    </script>
</body>
</html>